rpm: compile rpmqv.c instead of rpmqv.cc

Some versions of gcc, 4.4.5 for example, will put a reference to __gxx_personality_v0
into rpm.o and rpmbuild.o.  This means we must link with g++, and the Makefile we
generate does not.

So, go back to using rpmqv.c (which is currently identical to rpmqv.cc).

Upstream-Status: Inappropriate [other]

   When linking with g++ is really necessary, the upstream package will do that.

Signed-off-by: Joe Slater <joe.slater@windriver.com>

Index: rpm/Makefile.am
===================================================================
--- rpm.orig/Makefile.am
+++ rpm/Makefile.am
@@ -202,14 +202,16 @@ rpm_LDFLAGS =		@LDFLAGS_STATIC@ $(LDFLAG
 rpm_LDADD =		rpm.o $(myLDADD)
 rpm.o:	$(top_srcdir)/rpmqv.c
 	ln -sf $< rpmqv.cc
+	ln -sf $< rpmqv.c
-	$(COMPILE) -DIAM_RPMBT -DIAM_RPMDB -DIAM_RPMEIU -DIAM_RPMK -DIAM_RPMQV -o $@ -c rpmqv.cc
+	$(COMPILE) -DIAM_RPMBT -DIAM_RPMDB -DIAM_RPMEIU -DIAM_RPMK -DIAM_RPMQV -o $@ -c rpmqv.c
 
 rpmbuild_SOURCES =	build.c
 rpmbuild_LDFLAGS =	@LDFLAGS_STATIC@ $(LDFLAGS)
 rpmbuild_LDADD =	rpmbuild.o $(myLDADD)
 rpmbuild.o:	$(top_srcdir)/rpmqv.c
 	ln -sf $< rpmqv.cc
+	ln -sf $< rpmqv.c
-	$(COMPILE) -DIAM_RPMBT -o $@ -c rpmqv.cc
+	$(COMPILE) -DIAM_RPMBT -o $@ -c rpmqv.c
 
 .syntastic_c_config: Makefile
 	@echo $(COMPILE) | tr ' ' '\n' | sed -e '1d' > $@
